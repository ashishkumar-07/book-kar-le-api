{"openapi":"3.0.1","info":{"title":"OfferService","description":"Provides offer related APIs","contact":{"name":"Ashish K","email":"ashishkumar.sengar@gmail.com"},"license":{"name":"MIT License"},"version":"0.1"},"servers":[{"url":"http://localhost:8084/offers","description":"Generated server url"}],"tags":[{"name":"Movie Offer APIs","description":"Following APIs are used to display the list of offer and calculate the eligibility of particular offer"}],"paths":{"/check-eligibility":{"post":{"tags":["Movie Offer APIs"],"summary":"check the eligibility of particular offer. If eligible then returns the offer amount","operationId":"checkOfferEligibility","requestBody":{"content":{"application/json":{"schema":{"$ref":"#/components/schemas/OfferEligibilityRequest"}}},"required":true},"responses":{"200":{"description":"OK","content":{"*/*":{"schema":{"$ref":"#/components/schemas/OfferEligibilityResponse"}}}}}}},"/":{"get":{"tags":["Movie Offer APIs"],"summary":"List all offer by city and theatre","operationId":"listActiveOffers_1","parameters":[{"name":"cityId","in":"query","required":true,"schema":{"type":"integer","format":"int64"}},{"name":"theatreId","in":"query","required":true,"schema":{"type":"integer","format":"int64"}}],"responses":{"200":{"description":"OK","content":{"*/*":{"schema":{"type":"array","items":{"$ref":"#/components/schemas/OffersDto"}}}}}}}}},"components":{"schemas":{"OfferEligibilityRequest":{"required":["offerId"],"type":"object","properties":{"offerId":{"type":"integer","format":"int64"},"cityId":{"type":"integer","format":"int64"},"theaterId":{"type":"integer","format":"int64"},"ticketQuantity":{"type":"integer","format":"int32"},"showTime":{"type":"string","format":"date-time"},"bookingAmountBeforeOffer":{"type":"number"}}},"OfferEligibilityResponse":{"type":"object","properties":{"eligible":{"type":"boolean"},"offerAmount":{"type":"number"},"offerId":{"type":"integer","format":"int64"}}},"OffersDto":{"type":"object","properties":{"offerId":{"type":"integer","format":"int64"},"cityId":{"type":"integer","format":"int64"},"theatreId":{"type":"integer","format":"int64"},"offerName":{"type":"string"},"offerCategory":{"type":"string","enum":["TIME_BASED","QUANTITY_BASED","TIME_AND_QUANTITY_BOTH"]},"offerDescription":{"type":"string"}}}}}}