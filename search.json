{"openapi":"3.0.1","info":{"title":"SearchService","description":"Provides APIs which helps selecting a movie show for booking","contact":{"name":"Ashish K","email":"ashishkumar.sengar@gmail.com"},"license":{"name":"MIT License"},"version":"0.1"},"servers":[{"url":"http://localhost:8081/search","description":"Generated server url"}],"tags":[{"name":"Movie Search APIs","description":"Following APIs are used to display the theatre,movie and shows list for booking"}],"paths":{"/movies":{"get":{"tags":["Movie Search APIs"],"summary":"List all active(up to next 5 days) movies & theatres in a city","operationId":"getMovieAndTheatreList","parameters":[{"name":"cityId","in":"query","required":true,"schema":{"type":"integer","format":"int64"}}],"responses":{"200":{"description":"OK","content":{"*/*":{"schema":{"$ref":"#/components/schemas/ActiveMovieAndTheatreList"}}}}}}},"/movies/{movieId}":{"get":{"tags":["Movie Search APIs"],"summary":"List All active(up to next 5 days) shows of a movie  based on city and language","operationId":"getShowsByMovieId","parameters":[{"name":"cityId","in":"query","required":true,"schema":{"type":"integer","format":"int64"}},{"name":"language","in":"query","required":true,"schema":{"type":"string"}},{"name":"movieId","in":"query","required":true,"schema":{"type":"integer","format":"int64"}}],"responses":{"200":{"description":"OK","content":{"*/*":{"schema":{"$ref":"#/components/schemas/MovieAvailableShowResponse"}}}}}}},"/movies/theatres/{theatreId}":{"get":{"tags":["Movie Search APIs"],"summary":"List All active(up to next 5 days) movies running in a theatre","operationId":"getShowsByTheatreId","parameters":[{"name":"cityId","in":"query","required":true,"schema":{"type":"integer","format":"int64"}},{"name":"theatreId","in":"query","required":true,"schema":{"type":"integer","format":"int64"}}],"responses":{"200":{"description":"OK","content":{"*/*":{"schema":{"$ref":"#/components/schemas/TheatreAvailableMovieShows"}}}}}}}},"components":{"schemas":{"ActiveMovieAndTheatreList":{"type":"object","properties":{"theatres":{"type":"array","items":{"$ref":"#/components/schemas/TheatreSummary"}},"movies":{"type":"array","items":{"$ref":"#/components/schemas/MovieSummary"}}}},"MovieName":{"type":"object","properties":{"movieId":{"type":"string"},"movieName":{"type":"string"}}},"MovieSummary":{"type":"object","properties":{"language":{"type":"string"},"movieNames":{"type":"array","items":{"$ref":"#/components/schemas/MovieName"}}}},"TheatreSummary":{"type":"object","properties":{"theatreId":{"type":"integer","format":"int64"},"theatreName":{"type":"string"}}},"MovieAvailableShowResponse":{"type":"object","properties":{"movieShows":{"type":"array","items":{"$ref":"#/components/schemas/MovieShow"}}}},"MovieShow":{"type":"object","properties":{"date":{"type":"string","format":"date"},"shows":{"type":"array","items":{"$ref":"#/components/schemas/Show"}}}},"Show":{"type":"object","properties":{"theatreId":{"type":"integer","format":"int64"},"theatreName":{"type":"string"},"showsInfo":{"type":"array","items":{"$ref":"#/components/schemas/ShowInfo"}}}},"ShowInfo":{"type":"object","properties":{"showId":{"type":"integer","format":"int64"},"showTime":{"type":"integer","format":"int64"},"auditoriumId":{"type":"integer","format":"int64"},"auditoriumName":{"type":"string"},"showTierDetails":{"type":"array","items":{"$ref":"#/components/schemas/ShowTierDetail"}}}},"ShowTierDetail":{"type":"object","properties":{"tierName":{"type":"string","enum":["TIER1","TIER2","TIER3"]},"tierPrice":{"type":"number"},"tierBookingStatus":{"type":"string","enum":["Available","FillingFast","AlmostFilled","SoldOut"]}}},"MovieWiseShow":{"type":"object","properties":{"movieId":{"type":"integer","format":"int64"},"movieName":{"type":"string"},"language":{"type":"string"},"showsInfo":{"type":"array","items":{"$ref":"#/components/schemas/ShowInfo"}}}},"TheatreAvailableMovieShows":{"type":"object","properties":{"theatreShows":{"type":"array","items":{"$ref":"#/components/schemas/TheatreShow"}}}},"TheatreShow":{"type":"object","properties":{"date":{"type":"string","format":"date"},"movies":{"type":"array","items":{"$ref":"#/components/schemas/MovieWiseShow"}}}}}}}